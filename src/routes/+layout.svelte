<script>
	import header from '../img/twitter-diamond.svg';

  export let dropdownOpen = null;

	function toggleDropdown(menu) {
		dropdownOpen = dropdownOpen === menu ? null : menu;
	}

  export const prerender = true;
</script>

<svelte:head>
	<link rel="stylesheet" href="https://observablehq.com/_next/static/css/92c0a8010b575b66.css" />
	<link
		rel="stylesheet"
		href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
		integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"
		crossorigin="anonymous"
	/>
	<!-- <link rel="stylesheet" href="https://datamonkey.org/assets/css/datamonkey.css" integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I" crossorigin="anonymous"> -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Major+Mono+Display" />
</svelte:head>

<nav class="bg-cherry p-2 relative flex items-center justify-left">
	<a class="border-none text-white text-lg px-3 flex items-center" href="/">
		<img class="object-scale-down h-10 w-8" src={header} alt="logo" />
		<span class="header-logo px-2">Center for Viral Evolution</span>
	</a>
	<ul class="flex gap-2">
		<li class="relative">

			<button class="text-white py-2 px-3 bg-transparent hover:bg-cherry-dark rounded focus:outline-none" on:click={() => toggleDropdown('research')}>
				Research ▼
			</button>
			{#if dropdownOpen === 'research'}
			<div class="absolute left-0 w-48 mt-1 rounded shadow-lg bg-cherry z-10">
				<a href="/pubs" class="block p-2 text-white hover:bg-cherry-dark rounded">Recent Publications</a>
			</div>
			{/if}
		</li>

		<li class="relative">
			<button class="text-white py-2 px-3 bg-transparent hover:bg-cherry-dark rounded focus:outline-none" on:click={() => toggleDropdown('people')}>
				People ▼
			</button>
			{#if dropdownOpen === 'people'}
			<div class="absolute left-0 w-48 mt-1 rounded shadow-lg bg-cherry z-10">
				<a href="/faculty" class="block p-2 text-white hover:bg-cherry-dark rounded">Faculty</a>
				<a href="/students" class="block p-2 text-white hover:bg-cherry-dark rounded">Postdocs & Students</a>
			</div>
			{/if}
		</li>

		<li class="relative">

			<button class="text-white py-2 px-3 bg-transparent hover:bg-cherry-dark rounded focus:outline-none" on:click={() => toggleDropdown('software')}>
				Resources ▼
			</button>
			{#if dropdownOpen === 'software'}
			<div class="absolute left-0 w-48 mt-1 rounded shadow-lg bg-cherry z-10">
				<a href="/hyphy" class="block p-2 text-white hover:bg-cherry-dark rounded">HyPhy</a>
				<a href="/datamonkey" class="block p-2 text-white hover:bg-cherry-dark rounded">Datamonkey</a>
				<a href="/hivtrace" class="block p-2 text-white hover:bg-cherry-dark rounded">HIV-TRACE</a>
				<a href="/phylotree" class="block p-2 text-white hover:bg-cherry-dark rounded">Phylotree</a>
				<a href="/silverback" class="block p-2 text-white hover:bg-cherry-dark rounded">Silverback</a>
			</div>
			{/if}
		</li>

	</ul>
</nav>

<slot />

<footer
	class="p-4 mt-2 bg-cherry shadow md:flex md:items-center md:justify-between md:p-6">
</footer>

<style windi:preflights:global>
  /* Base */
  body {
    font-family: 'Arial', sans-serif; /* Arial is a common choice that approximates the official Temple font */
    background-color: #ffffff; /* White background */
    color: #333333; /* Basic dark color for text */
    margin: 0;
    padding: 0;
  }

  /* Header and Footer */
  .header, .footer {
    background-color: #A41E35; /* Temple's Cherry red */
    color: #ffffff; /* White text */
    padding: 10px 20px;
    text-align: center;
  }

  /* Main content area */
  .main-content {
    padding: 20px;
  }

  /* Titles */
  h1, h2, h3 {
    color: #A41E35; /* Cherry red for headings */
  }

  /* Links */
  a {
    color: #A41E35;
    text-decoration: none; /* No underline */
  }

  a:hover {
    text-decoration: underline; /* Underline on hover */
  }

  /* Buttons */
  .button {
    background-color: #A41E35; /* Cherry red */
    color: #ffffff; /* White text */
    border: none;
    padding: 10px 15px;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
    border-radius: 5px; /* Rounded corners for buttons */
  }

  .button:hover {
    background-color: #C22745; /* A slightly darker Cherry red for hover */
  }

  /* Utility classes */
  .text-white {
    color: #ffffff;
  }

  :global(.text-cherry) {
    color: #A41E35;
  }

  .bg-cherry {
    background-color: #A41E35;
  }

  .bg-white {
    background-color: #ffffff;
  }
  :global(.news-section) {
    padding: 3rem; /* Increased padding for more space */
    margin-top: 2rem;
    border-radius: 12px; /* More pronounced rounded corners */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); /* Subtle shadow for depth */
    display: flex;
    flex-direction: column;
    gap: 1rem; /* Space between news items */
  }

  :global(.news-section h1) {
    color: #A41E35; /* Cherry red for headlines */
    text-decoration: underline;
    font-size: 2rem; /* Larger text for headlines */
    margin-bottom: 0.5rem;
  }


  :global(.news-section h2) {
    color: #A41E35; /* Cherry red for headlines */
    font-size: 1.5rem; /* Larger text for headlines */
    margin-bottom: 0.2rem;
  }

  :global(.news-section p) {
    color: #333333; /* Dark gray for text */
    line-height: 1.8; /* Increased line height for better readability */
    font-size: 1.2rem; /* Slightly larger paragraph text */
  }

  :global(.news-section a) {
    color: #0056b3; /* Dark blue for links */
    text-decoration: none; /* No underline by default */
    font-weight: bold; /* Make links bold for emphasis */
    transition: color 0.3s; /* Smooth transition for hover effect */
  }

  :global(.news-section a:hover) {
    text-decoration: underline; /* Underline on hover */
    color: #003975; /* Darker blue on hover for more interaction */

	nav ul {
		list-style: none;
		padding: 0;
	}

	nav li {
		position: relative;
	}

	nav button {
		background: none;
		border: none;
		color: inherit;
		font: inherit;
		cursor: pointer;
		padding: 0.5rem 1rem;
	}

	nav .absolute {
		z-index: 10;
		left: 0;
		right: 0;
		text-align: left;
	}

	.hover\:bg-cherry-dark:hover {
		background-color: #932e3e;
	}

</style>
